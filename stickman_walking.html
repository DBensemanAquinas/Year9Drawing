<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <canvas id="stick" width="1200" height="600"></canvas>
    <script>
        var c = document.getElementById("stick");
        var ctx = c.getContext('2d');
        ctx.lineWidth = 4;
        var manX = 0;
        var step = 0;
        var width = stick.width;
        var height = stick.height;

        function stickman(x, y) {
            // head
            ctx.beginPath();
            ctx.arc(x + 20, y + 20, 10, 0, 2 * Math.PI);
            ctx.stroke();

            // body
            ctx.beginPath();
            ctx.moveTo(x + 20, y + 30);
            ctx.lineTo(x + 20, y + 60);
            ctx.stroke();

            // right arm
            ctx.beginPath();
            ctx.moveTo(x + 20, y + 40);
            ctx.lineTo(x + 30 - step * 0.5, y + 50);
            ctx.lineTo(x + 40 - step * 0.75, y + 65);
            ctx.stroke();

            // left arm
            ctx.beginPath();
            ctx.moveTo(x + 20, y + 40);
            ctx.lineTo(x + 10 + step * 0.5, y + 50);
            ctx.lineTo(x + 10 + step * 0.75, y + 65);
            ctx.stroke();

            // right leg
            ctx.beginPath();
            ctx.moveTo(x + 20, y + 60);
            ctx.lineTo(x + 40 - step * .75, y + 80);
            ctx.lineTo(x + 40 - step, y + 100);
            ctx.lineTo(x + 50 - step, y + 100);

            ctx.stroke();

            // left leg
            ctx.beginPath();
            ctx.moveTo(x + 20, y + 60);
            ctx.lineTo(x + 10 + step * .75, y + 80);
            ctx.lineTo(x + step, y + 100);
            ctx.lineTo(x + 10 + step, y + 100);

            ctx.stroke();
        }

        function draw() {
            ctx.clearRect(0, 0, width, height);
            ctx.fillStyle = "yellow";
            ctx.fillRect(0, 0, width, height);

            for (i = 0; i < width; i += 50) {
                for (offset = 0; offset <= height - 100; offset += 40)
                stickman(manX - i - offset * 0.5, offset);
            }
            
            

            manX += 1;
            if (manX > width * 2 + height) {
                manX = -80;
            }

            step += 1;
            if (step >= 40) {
                step = 0;
            }
        }

        setInterval(draw, 10);
    </script>

</body>
</html>
